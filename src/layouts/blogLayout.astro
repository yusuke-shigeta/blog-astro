---
import BaseLayout from "./BaseLayout.astro";
import Footer from "../components/Footer.astro";
import Toc from "../components/Toc.astro";
import TagList from "../components/TagList.astro";
import "../styles/blog.css";
const { blog, headings } = Astro.props;
---

<BaseLayout>
  <header class="header">
    <h1>{blog.title}</h1>
  </header>
  <main class="main">
    <div class="contents">
      <p><em>{blog.description}</em></p>
      <p>{blog.date.toISOString().slice(0, 10)}</p>
      <TagList tags={blog.tags} />
      <slot />
    </div>
    <div class="sidebar">
      <Toc headings={headings} />
    </div>
  </main>
  <Footer />

  <style>
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 20px 14px;
      background: #fff;
    }

    .contents {
      flex: 0 1 75%;
    }

    .sidebar {
      flex: 0 0 25%;
      justify-items: center;
    }
  </style>

  <script>
    import "../script/blog.js";
  </script>
</BaseLayout>
