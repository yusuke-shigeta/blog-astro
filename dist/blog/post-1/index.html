<!DOCTYPE html><style>.depth-2[data-astro-cid-6t6zfk7k]{margin:0 0 0 10px}.depth-3[data-astro-cid-6t6zfk7k]{margin:0 0 0 20px}.depth-4[data-astro-cid-6t6zfk7k]{margin:0 0 0 30px}
</style><blogLayout title="AstroのブログをContent管理にする" description="AstroのContent Collectionsはマークダウンを型安全に管理するための機能です。Content Collectionsを用いたブログの構築手順をご紹介します。" date="Sat Feb 15 2025 09:00:00 GMT+0900 (Japan Standard Time)" tags="Astro,study"> <nav data-astro-cid-6t6zfk7k> <ul data-astro-cid-6t6zfk7k> <li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#mdxを使用できるように設定" data-astro-cid-6t6zfk7k>mdxを使用できるように設定</a> </li><li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#コンテンツ管理のためルーティング設定" data-astro-cid-6t6zfk7k>コンテンツ管理のためルーティング設定</a> </li><li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#コンテンツ管理にできたので目次作って見る" data-astro-cid-6t6zfk7k>コンテンツ管理にできたので目次作って見る</a> </li><li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#memo" data-astro-cid-6t6zfk7k>memo</a> </li> </ul> </nav>  <h2 id="mdxを使用できるように設定">mdxを使用できるように設定</h2>
<p><a href="https://evoworx.dev/blog/hylx27khn/">参考記事</a></p>
<ul>
<li><code>src/content/config.ts</code>を作成</li>
<li>コンテンツを作成
<ul>
<li><code>src/content/blog/240215.mdx</code></li>
</ul>
</li>
<li>mdxを使用可能にする
<ul>
<li><code>npx astro add mdx</code></li>
</ul>
</li>
<li>vscodeの設定でmdxを使用可能にする
<ul>
<li><code>.vscode/settings.json</code></li>
</ul>
</li>
</ul>
<h2 id="コンテンツ管理のためルーティング設定">コンテンツ管理のためルーティング設定</h2>
<ul>
<li>コンテンツページを作成
<ul>
<li><code>src/pages/blog/[...slug].astro</code>を作成
<ul>
<li>動的ルーティングさせる</li>
</ul>
</li>
</ul>
</li>
<li>コンテンツ一覧ページを作成
<ul>
<li><code>pages/blog/index.astro</code>
<ul>
<li><code>src/pages/blog.astro</code>とバッティングするため、これ削除</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="コンテンツ管理にできたので目次作って見る">コンテンツ管理にできたので目次作って見る</h2>
<ul>
<li>renderを使用し、Contentと同様、記事のheadingリストを取得する</li>
<li>目次をうまい具合に出力する</li>
</ul>
<h2 id="memo">memo</h2>
<ul>
<li>一旦、frontmatterは使用しない。
<ul>
<li>frontmatter layoutも使用しない。</li>
</ul>
</li>
</ul> </blogLayout>