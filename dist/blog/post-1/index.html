<!DOCTYPE html><html lang="ja" data-astro-cid-37fxchfa style=""> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.2.5"><title>AstroのブログをContent管理にする</title><style>.tags[data-astro-cid-4dqtj3le]{display:flex;flex-wrap:wrap;gap:10px}.depth-2[data-astro-cid-6t6zfk7k]{margin:0 0 0 10px}.depth-3[data-astro-cid-6t6zfk7k]{margin:0 0 0 20px}.depth-4[data-astro-cid-6t6zfk7k]{margin:0 0 0 30px}
.nav-list[data-astro-cid-pux6a34n]{display:flex;gap:0 20px}header[data-astro-cid-3ef6ksr2]{padding:20px 0}a[data-astro-cid-yxtifmrq]{color:#000;text-decoration:none;padding:40px 0}footer[data-astro-cid-sz7xmlte]{display:flex;gap:1rem}h1,h2,h3,h4,h5,h6,p,ul,li{padding:0;margin:0;font-weight:400}*{box-sizing:border-box;font-size:16px}html{background-color:#fff;font-family:sans-serif;font-size:.26666666666666666vw}body{margin:0 auto;width:100%;max-width:1200px;padding:0 14px;line-height:1.4}code{background-color:#dcdcdc}ul{list-style:none}h1,h2,h3,h4,h5,h6{font-weight:700}h1{font-size:24px}h2{font-size:20px}h3{font-size:18px}@media screen and (min-width: 636px){html{font-size:65%}}h1[data-astro-cid-37fxchfa]{color:var(--mainColor)}.skill[data-astro-cid-37fxchfa]{color:#000}
</style></head> <body data-astro-cid-37fxchfa style=""> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <ul class="nav-list" data-astro-cid-pux6a34n> <li class="nav-item" data-astro-cid-pux6a34n><a class="nav-link" href="/" data-astro-cid-pux6a34n>Home</a></li> <li class="nav-item" data-astro-cid-pux6a34n><a class="nav-link" href="/about" data-astro-cid-pux6a34n>About</a></li> <li class="nav-item" data-astro-cid-pux6a34n><a class="nav-link" href="/blog" data-astro-cid-pux6a34n>Blog</a></li> <li class="nav-item" data-astro-cid-pux6a34n><a class="nav-link" href="/tags" data-astro-cid-pux6a34n>Tag</a></li> </ul>  </nav> </header>  <h1 data-astro-cid-37fxchfa style="">AstroのブログをContent管理にする</h1>  <p data-astro-cid-4dqtj3le><em data-astro-cid-4dqtj3le>AstroのContent Collectionsはマークダウンを型安全に管理するための機能です。Content Collectionsを用いたブログの構築手順をご紹介します。</em></p> <p data-astro-cid-4dqtj3le>2025-02-15</p> <ul class="tags" data-astro-cid-4dqtj3le> <li class="tag"><a href="/tags/Astro">Astro</a></li><li class="tag"><a href="/tags/study">study</a></li> </ul>  <nav data-astro-cid-6t6zfk7k> <ul data-astro-cid-6t6zfk7k> <li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#mdxを使用できるように設定" data-astro-cid-6t6zfk7k>mdxを使用できるように設定</a> </li><li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#コンテンツ管理のためルーティング設定" data-astro-cid-6t6zfk7k>コンテンツ管理のためルーティング設定</a> </li><li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#コンテンツ管理にできたので目次作って見る" data-astro-cid-6t6zfk7k>コンテンツ管理にできたので目次作って見る</a> </li><li class="depth-2" data-astro-cid-6t6zfk7k> <a href="#memo" data-astro-cid-6t6zfk7k>memo</a> </li> </ul> </nav>  <h2 id="mdxを使用できるように設定">mdxを使用できるように設定</h2>
<p><a href="https://evoworx.dev/blog/hylx27khn/">参考記事</a></p>
<ul>
<li><code>src/content/config.ts</code>を作成</li>
<li>コンテンツを作成
<ul>
<li><code>src/content/blog/240215.mdx</code></li>
</ul>
</li>
<li>mdxを使用可能にする
<ul>
<li><code>npx astro add mdx</code></li>
</ul>
</li>
<li>vscodeの設定でmdxを使用可能にする
<ul>
<li><code>.vscode/settings.json</code></li>
</ul>
</li>
</ul>
<h2 id="コンテンツ管理のためルーティング設定">コンテンツ管理のためルーティング設定</h2>
<ul>
<li>コンテンツページを作成
<ul>
<li><code>src/pages/blog/[...slug].astro</code>を作成
<ul>
<li>動的ルーティングさせる</li>
</ul>
</li>
</ul>
</li>
<li>コンテンツ一覧ページを作成
<ul>
<li><code>pages/blog/index.astro</code>
<ul>
<li><code>src/pages/blog.astro</code>とバッティングするため、これ削除</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="コンテンツ管理にできたので目次作って見る">コンテンツ管理にできたので目次作って見る</h2>
<ul>
<li>renderを使用し、Contentと同様、記事のheadingリストを取得する</li>
<li>目次をうまい具合に出力する</li>
</ul>
<h2 id="memo">memo</h2>
<ul>
<li>一旦、frontmatterは使用しない。
<ul>
<li>frontmatter layoutも使用しない。</li>
</ul>
</li>
</ul>   <footer data-astro-cid-sz7xmlte> <a href="https://www.git.com/yusuke-shigeta" data-astro-cid-yxtifmrq>git</a>  <a href="https://www.twiiter.com/yusuke-shigeta" data-astro-cid-yxtifmrq>twiiter</a>  <a href="https://www.instagram.com/yusuke-shigeta" data-astro-cid-yxtifmrq>instagram</a>  </footer>  <script type="module">document.querySelector(".hamburger").addEventListener("click",()=>{document.querySelector(".nav-links").classList.toggle("expanded")});</script> </body> </html>  